<header class="header">
  <div class="header-content">
    <!-- Text Logo Section -->
    <button class="logo-link" (click)="navigateToDashboard()" type="button" aria-label="Go to Dashboard">
      <h1 class="logo-text">SyncUp</h1>
    </button>

    <!-- Settings Button -->
    <button class="settings-btn" (click)="openSettings()" aria-label="Open settings">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <circle cx="12" cy="12" r="3" />
        <path d="M12 1v6m0 6v6m0-6h6m-6 0H6m6 0L17.66 6.34M12 12 6.34 6.34M12 12l5.66 5.66M12 12l-5.66 5.66" />
      </svg>
      <span>Settings</span>
    </button>
  </div>

  <!-- Settings Modal -->
  @if (isSettingsModalOpen) {
  <div class="settings-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div
      class="modal-backdrop"
      (click)="onBackdropClick()"
      (keydown.enter)="onBackdropClick()"
      (keydown.space)="onBackdropClick()"
      tabindex="0"
      role="button"
      aria-label="Close settings"
    >
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <h2 id="modal-title" class="modal-title">Settings</h2>
          <button class="close-modal-btn" (click)="closeSettings()" aria-label="Close settings">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <line x1="18" y1="6" x2="6" y2="18" />
              <line x1="6" y1="6" x2="18" y2="18" />
            </svg>
          </button>
        </div>
        <!-- Modal Body -->
        <div class="modal-body">
          <!-- Account Information Section -->
          <div class="account-info">
            <h3 class="section-title">Account Information</h3>
            <!-- Loading State -->
            @if (isLoadingAccountDetails) {
            <div class="loading-container">
              <div class="spinner"></div>
              <p class="loading-text">Loading account details...</p>
            </div>
            }
            <!-- Error State -->
            @if (accountDetailsError && !isLoadingAccountDetails) {
            <div class="error-container">
              <p class="error-text">{{ accountDetailsError }}</p>
              <button class="retry-btn" (click)="loadAccountDetails()">Retry</button>
            </div>
            }
            <!-- Account Details -->
            @if (accountDetails && !isLoadingAccountDetails && !accountDetailsError) {
            <div class="details-container">
              <div class="info-row">
                <span class="info-label">Username:</span>
                <span class="info-value">{{ accountDetails.username }}</span>
              </div>
              <div class="info-row">
                <span class="info-label">First Name:</span>
                <span class="info-value">{{ accountDetails.firstName }}</span>
              </div>
              <div class="info-row">
                <span class="info-label">Last Name:</span>
                <span class="info-value">{{ accountDetails.lastName }}</span>
              </div>
              <div class="info-row">
                <span class="info-label">Email:</span>
                <span class="info-value">{{ accountDetails.email }}</span>
              </div>
            </div>
            }
          </div>
          <!-- Action Buttons Section -->
          <div class="action-buttons">
            <button class="logout-btn" (click)="logout()">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                <polyline points="16 17 21 12 16 7" />
                <line x1="21" y1="12" x2="9" y2="12" />
              </svg>
              Logout
            </button>
            <button class="delete-account-btn" (click)="deleteAccount()" [disabled]="isDeletingAccount">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <polyline points="3 6 5 6 21 6" />
                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                <line x1="10" y1="11" x2="10" y2="17" />
                <line x1="14" y1="11" x2="14" y2="17" />
              </svg>
              {{ isDeletingAccount ? 'Deleting...' : 'Delete Account' }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  }
</header>
